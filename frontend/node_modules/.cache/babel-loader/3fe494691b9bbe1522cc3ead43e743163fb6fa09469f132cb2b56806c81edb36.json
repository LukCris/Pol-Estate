{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\giada\\\\OneDrive\\\\Desktop\\\\progetto finale\\\\frontend\\\\src\\\\components\\\\message\\\\Message.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport \"./message.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Message({\n  idMessage,\n  Contact,\n  ContactName\n}) {\n  _s();\n  console.log(\"Questo è contact: \", Contact, ContactName);\n  console.log(\"Questo è l'idMessage\", idMessage);\n  const [message, setMessage] = useState({\n    body: null\n  });\n  const [hour, setHour] = useState();\n  const [day, setDay] = useState({\n    year: 0,\n    month: 0,\n    day: 0\n  });\n  function insertHour(d) {\n    const dat = new Date(d);\n    setHour(dat.getHours() + \":\" + dat.getMinutes());\n  }\n  function insertDay(d) {\n    const dat = new Date(d);\n    const giorno = {\n      year: dat.getFullYear(),\n      month: dat.getMonth(),\n      day: dat.getDate()\n    };\n    setDay(giorno);\n  }\n\n  /* Prelevo il messaggio usando l'id in maniera tale da poter sapere ora e contenuto */\n  useEffect(() => {\n    fetch(\"http://localhost:8080/api/messages/getMessageById/\" + idMessage).then(res => {\n      if (res.ok) return res.json();else throw new Error(\"Errore di comunicazione\");\n    }).then(res => {\n      insertDay(res.date);\n      insertHour(res.date);\n      setMessage(res);\n    }).catch(e => console.log(e));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper\",\n    children: message.author !== Contact ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"me\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"myMessageContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"myMessageName\",\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Tu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 50\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"messageContainer\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"myMessage\",\n            children: [\" \", message.body, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"messageHour\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"myHour\",\n            children: [day.day, \"/\", day.month, \"/\", day.year, \" \", hour]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"other\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"otherMessageContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"otherMessageName\",\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: ContactName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"messageContainer\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"otherMessage\",\n            children: [\" \", message.body, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"messageHour\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"otherHour\",\n            children: [\" \", day.day, \"/\", day.month, \"/\", day.year, \" \", hour]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n}\n_s(Message, \"kbRJDat0ggVlN5ScqO/hWtkx/k4=\");\n_c = Message;\nvar _c;\n$RefreshReg$(_c, \"Message\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Message","idMessage","Contact","ContactName","_s","console","log","message","setMessage","body","hour","setHour","day","setDay","year","month","insertHour","d","dat","Date","getHours","getMinutes","insertDay","giorno","getFullYear","getMonth","getDate","fetch","then","res","ok","json","Error","date","catch","e","className","children","author","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/giada/OneDrive/Desktop/progetto finale/frontend/src/components/message/Message.jsx"],"sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport \"./message.css\"\r\n \r\nexport default function Message ({idMessage, Contact, ContactName}){ \r\n\r\n    console.log(\"Questo è contact: \", Contact, ContactName)\r\n\r\n    console.log(\"Questo è l'idMessage\", idMessage)\r\n\r\n    const[message,setMessage]=useState({body: null}); \r\n    const [hour,setHour]=useState(); \r\n    const [day,setDay]=useState({year: 0, month: 0, day: 0}); \r\n \r\n \r\n    function insertHour(d){ \r\n        const dat=new Date(d); \r\n        setHour(dat.getHours()+\":\"+dat.getMinutes()); \r\n    } \r\n \r\n    function insertDay(d){ \r\n        const dat=new Date(d); \r\n        const giorno={year: dat.getFullYear(), month: dat.getMonth(), day: dat.getDate()}; \r\n        setDay(giorno); \r\n    } \r\n \r\n    /* Prelevo il messaggio usando l'id in maniera tale da poter sapere ora e contenuto */ \r\n    useEffect(()=>{ \r\n        fetch(\"http://localhost:8080/api/messages/getMessageById/\" + idMessage) \r\n        .then(res=>{\r\n            if(res.ok) return res.json(); \r\n            else throw new Error(\"Errore di comunicazione\")\r\n        }) \r\n        .then(res=>{\r\n            insertDay(res.date); \r\n            insertHour(res.date); \r\n            setMessage(res)\r\n        })\r\n        .catch(e=>console.log(e)); \r\n    },[])  \r\n \r\n    return ( \r\n        <div className=\"wrapper\"> \r\n            {message.author !== Contact ?  \r\n            <div className=\"me\"> \r\n                <div className=\"myMessageContainer\"> \r\n                    <p className=\"myMessageName\"><strong>Tu</strong></p>\r\n                    <div className=\"messageContainer\">\r\n                        <span className=\"myMessage\"> {message.body} </span> \r\n                    </div>\r\n                    <div className=\"messageHour\">\r\n                        <span className=\"myHour\">{day.day}/{day.month}/{day.year} {hour}</span>\r\n                    </div>\r\n                    \r\n                </div> \r\n            </div> \r\n            :  \r\n            <div className=\"other\"> \r\n                <div className=\"otherMessageContainer\"> \r\n                    <p className=\"otherMessageName\"><strong>{ContactName}</strong></p>\r\n                    <div className=\"messageContainer\">\r\n                        <span className=\"otherMessage\"> {message.body} </span>\r\n                    </div>\r\n                    <div className=\"messageHour\">\r\n                        <span className=\"otherHour\"> {day.day}/{day.month}/{day.year} {hour}</span> \r\n                    </div>\r\n                    \r\n                </div> \r\n            </div> \r\n            }        \r\n        </div>      \r\n    ) \r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}