{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"./message.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Message(_ref){let{idMessage,Contact,ContactName}=_ref;console.log(\"Questo è contact: \",Contact,ContactName);console.log(\"Questo è l'idMessage\",idMessage);const[message,setMessage]=useState({body:null});const[hour,setHour]=useState();const[day,setDay]=useState({year:0,month:0,day:0});function insertHour(d){const dat=new Date(d);setHour(dat.getHours()+\":\"+dat.getMinutes());}function insertDay(d){const dat=new Date(d);const giorno={year:dat.getFullYear(),month:dat.getMonth(),day:dat.getDate()};setDay(giorno);}/* Prelevo il messaggio usando l'id in maniera tale da poter sapere ora e contenuto */useEffect(()=>{fetch(\"http://localhost:8080/api/messages/getMessageById/\"+idMessage).then(res=>{if(res.ok)return res.json();else throw new Error(\"Errore di comunicazione\");}).then(res=>{insertDay(res.date);insertHour(res.date);setMessage(res);}).catch(e=>console.log(e));},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"wrapper\",children:message.author!==Contact?/*#__PURE__*/_jsx(\"div\",{className:\"me\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"myMessageContainer\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"myMessageName\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Tu\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"messageContainer\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"myMessage\",children:[\" \",message.body,\" \"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"messageHour\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"myHour\",children:[day.day,\"/\",day.month,\"/\",day.year,\" \",hour]})})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"other\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"otherMessageContainer\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"otherMessageName\",children:/*#__PURE__*/_jsx(\"strong\",{children:ContactName})}),/*#__PURE__*/_jsx(\"div\",{className:\"messageContainer\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"otherMessage\",children:[\" \",message.body,\" \"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"messageHour\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"otherHour\",children:[\" \",day.day,\"/\",day.month,\"/\",day.year,\" \",hour]})})]})})});}","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Message","_ref","idMessage","Contact","ContactName","console","log","message","setMessage","body","hour","setHour","day","setDay","year","month","insertHour","d","dat","Date","getHours","getMinutes","insertDay","giorno","getFullYear","getMonth","getDate","fetch","then","res","ok","json","Error","date","catch","e","className","children","author"],"sources":["C:/Users/lpaco/WebstormProjects/progetto finale/.progetto/frontend/src/components/message/Message.jsx"],"sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport \"./message.css\"\r\n \r\nexport default function Message ({idMessage, Contact, ContactName}){ \r\n\r\n    console.log(\"Questo è contact: \", Contact, ContactName)\r\n\r\n    console.log(\"Questo è l'idMessage\", idMessage)\r\n\r\n    const[message,setMessage]=useState({body: null}); \r\n    const [hour,setHour]=useState(); \r\n    const [day,setDay]=useState({year: 0, month: 0, day: 0}); \r\n \r\n \r\n    function insertHour(d){ \r\n        const dat=new Date(d); \r\n        setHour(dat.getHours()+\":\"+dat.getMinutes()); \r\n    } \r\n \r\n    function insertDay(d){ \r\n        const dat=new Date(d); \r\n        const giorno={year: dat.getFullYear(), month: dat.getMonth(), day: dat.getDate()}; \r\n        setDay(giorno); \r\n    } \r\n \r\n    /* Prelevo il messaggio usando l'id in maniera tale da poter sapere ora e contenuto */ \r\n    useEffect(()=>{ \r\n        fetch(\"http://localhost:8080/api/messages/getMessageById/\" + idMessage) \r\n        .then(res=>{\r\n            if(res.ok) return res.json(); \r\n            else throw new Error(\"Errore di comunicazione\")\r\n        }) \r\n        .then(res=>{\r\n            insertDay(res.date); \r\n            insertHour(res.date); \r\n            setMessage(res)\r\n        })\r\n        .catch(e=>console.log(e)); \r\n    },[])  \r\n \r\n    return ( \r\n        <div className=\"wrapper\"> \r\n            {message.author !== Contact ?  \r\n            <div className=\"me\"> \r\n                <div className=\"myMessageContainer\"> \r\n                    <p className=\"myMessageName\"><strong>Tu</strong></p>\r\n                    <div className=\"messageContainer\">\r\n                        <span className=\"myMessage\"> {message.body} </span> \r\n                    </div>\r\n                    <div className=\"messageHour\">\r\n                        <span className=\"myHour\">{day.day}/{day.month}/{day.year} {hour}</span>\r\n                    </div>\r\n                    \r\n                </div> \r\n            </div> \r\n            :  \r\n            <div className=\"other\"> \r\n                <div className=\"otherMessageContainer\"> \r\n                    <p className=\"otherMessageName\"><strong>{ContactName}</strong></p>\r\n                    <div className=\"messageContainer\">\r\n                        <span className=\"otherMessage\"> {message.body} </span>\r\n                    </div>\r\n                    <div className=\"messageHour\">\r\n                        <span className=\"otherHour\"> {day.day}/{day.month}/{day.year} {hour}</span> \r\n                    </div>\r\n                    \r\n                </div> \r\n            </div> \r\n            }        \r\n        </div>      \r\n    ) \r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAEC,QAAQ,CAACC,SAAS,KAAO,OAAO,CAC9C,MAAO,eAAe,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtB,cAAe,SAAS,CAAAC,OAAOA,CAAAC,IAAA,CAAoC,IAAlC,CAACC,SAAS,CAAEC,OAAO,CAAEC,WAAW,CAAC,CAAAH,IAAA,CAE9DI,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAEH,OAAO,CAAEC,WAAW,CAAC,CAEvDC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAEJ,SAAS,CAAC,CAE9C,KAAK,CAACK,OAAO,CAACC,UAAU,CAAC,CAACd,QAAQ,CAAC,CAACe,IAAI,CAAE,IAAI,CAAC,CAAC,CAChD,KAAM,CAACC,IAAI,CAACC,OAAO,CAAC,CAACjB,QAAQ,CAAC,CAAC,CAC/B,KAAM,CAACkB,GAAG,CAACC,MAAM,CAAC,CAACnB,QAAQ,CAAC,CAACoB,IAAI,CAAE,CAAC,CAAEC,KAAK,CAAE,CAAC,CAAEH,GAAG,CAAE,CAAC,CAAC,CAAC,CAGxD,QAAS,CAAAI,UAAUA,CAACC,CAAC,CAAC,CAClB,KAAM,CAAAC,GAAG,CAAC,GAAI,CAAAC,IAAI,CAACF,CAAC,CAAC,CACrBN,OAAO,CAACO,GAAG,CAACE,QAAQ,CAAC,CAAC,CAAC,GAAG,CAACF,GAAG,CAACG,UAAU,CAAC,CAAC,CAAC,CAChD,CAEA,QAAS,CAAAC,SAASA,CAACL,CAAC,CAAC,CACjB,KAAM,CAAAC,GAAG,CAAC,GAAI,CAAAC,IAAI,CAACF,CAAC,CAAC,CACrB,KAAM,CAAAM,MAAM,CAAC,CAACT,IAAI,CAAEI,GAAG,CAACM,WAAW,CAAC,CAAC,CAAET,KAAK,CAAEG,GAAG,CAACO,QAAQ,CAAC,CAAC,CAAEb,GAAG,CAAEM,GAAG,CAACQ,OAAO,CAAC,CAAC,CAAC,CACjFb,MAAM,CAACU,MAAM,CAAC,CAClB,CAEA,sFACA5B,SAAS,CAAC,IAAI,CACVgC,KAAK,CAAC,oDAAoD,CAAGzB,SAAS,CAAC,CACtE0B,IAAI,CAACC,GAAG,EAAE,CACP,GAAGA,GAAG,CAACC,EAAE,CAAE,MAAO,CAAAD,GAAG,CAACE,IAAI,CAAC,CAAC,CAAC,IACxB,MAAM,IAAI,CAAAC,KAAK,CAAC,yBAAyB,CAAC,CACnD,CAAC,CAAC,CACDJ,IAAI,CAACC,GAAG,EAAE,CACPP,SAAS,CAACO,GAAG,CAACI,IAAI,CAAC,CACnBjB,UAAU,CAACa,GAAG,CAACI,IAAI,CAAC,CACpBzB,UAAU,CAACqB,GAAG,CAAC,CACnB,CAAC,CAAC,CACDK,KAAK,CAACC,CAAC,EAAE9B,OAAO,CAACC,GAAG,CAAC6B,CAAC,CAAC,CAAC,CAC7B,CAAC,CAAC,EAAE,CAAC,CAEL,mBACItC,IAAA,QAAKuC,SAAS,CAAC,SAAS,CAAAC,QAAA,CACnB9B,OAAO,CAAC+B,MAAM,GAAKnC,OAAO,cAC3BN,IAAA,QAAKuC,SAAS,CAAC,IAAI,CAAAC,QAAA,cACftC,KAAA,QAAKqC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eAC/BxC,IAAA,MAAGuC,SAAS,CAAC,eAAe,CAAAC,QAAA,cAACxC,IAAA,WAAAwC,QAAA,CAAQ,IAAE,CAAQ,CAAC,CAAG,CAAC,cACpDxC,IAAA,QAAKuC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC7BtC,KAAA,SAAMqC,SAAS,CAAC,WAAW,CAAAC,QAAA,EAAC,GAAC,CAAC9B,OAAO,CAACE,IAAI,CAAC,GAAC,EAAM,CAAC,CAClD,CAAC,cACNZ,IAAA,QAAKuC,SAAS,CAAC,aAAa,CAAAC,QAAA,cACxBtC,KAAA,SAAMqC,SAAS,CAAC,QAAQ,CAAAC,QAAA,EAAEzB,GAAG,CAACA,GAAG,CAAC,GAAC,CAACA,GAAG,CAACG,KAAK,CAAC,GAAC,CAACH,GAAG,CAACE,IAAI,CAAC,GAAC,CAACJ,IAAI,EAAO,CAAC,CACtE,CAAC,EAEL,CAAC,CACL,CAAC,cAENb,IAAA,QAAKuC,SAAS,CAAC,OAAO,CAAAC,QAAA,cAClBtC,KAAA,QAAKqC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eAClCxC,IAAA,MAAGuC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAACxC,IAAA,WAAAwC,QAAA,CAASjC,WAAW,CAAS,CAAC,CAAG,CAAC,cAClEP,IAAA,QAAKuC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC7BtC,KAAA,SAAMqC,SAAS,CAAC,cAAc,CAAAC,QAAA,EAAC,GAAC,CAAC9B,OAAO,CAACE,IAAI,CAAC,GAAC,EAAM,CAAC,CACrD,CAAC,cACNZ,IAAA,QAAKuC,SAAS,CAAC,aAAa,CAAAC,QAAA,cACxBtC,KAAA,SAAMqC,SAAS,CAAC,WAAW,CAAAC,QAAA,EAAC,GAAC,CAACzB,GAAG,CAACA,GAAG,CAAC,GAAC,CAACA,GAAG,CAACG,KAAK,CAAC,GAAC,CAACH,GAAG,CAACE,IAAI,CAAC,GAAC,CAACJ,IAAI,EAAO,CAAC,CAC1E,CAAC,EAEL,CAAC,CACL,CAAC,CAEL,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}